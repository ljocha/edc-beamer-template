\ProvidesPackage{beamerthemeedc}

\ProcessOptionsBeamer
%%\usepackage{environ}

%\usepackage{mdframed}

%%% FONT %%%
%\usepackage{AvenirLTPro}
%\usefonttheme{professionalfonts}
%% podvadim
%\usepackage{opensans}
%\usepackage{helvet}
%\renewcommand\familydefault{\sfdefault}

%\usepackage[tabular]{sourcesanspro}

\usepackage{fontspec}
\setmainfont%
[
       BoldFont = *-SemiBold,
       Font = *-Medium
]
{Quicksand}
\setsansfont{Roboto}

% nastaveni fontu
% \AtBeginDocument{\boldmath}

%zakladni barvy
\definecolor{edcwhite}{HTML}{FFFFFF}
\definecolor{edclight}{HTML}{009FE3}
\definecolor{edcdark}{HTML}{001F30}

% obrazky na pozadi
\setbeamertemplate{background canvas}{%
\ifnumequal{\c@framenumber}{1}{%
% First frame
\includegraphics[height=\paperheight]{edc-first.pdf}
}{%
\includegraphics[height=\paperheight]{edc-slide.pdf}
}%
}

% opicky nahore a dole na slidu
\useoutertheme{infolines}
\setbeamertemplate{headline}{}
\setbeamertemplate{navigation symbols}{}

\setbeamertemplate{footline}{%
	\strut\hfill
	\vbox to 0pt
	{
		\vss
		\leavevmode
		\raggedright
		\hsize=.94\textwidth
		\usebeamercolor[fg]{author in head/foot}
		\usebeamerfont{author in head/foot}
		{\null\insertshortdate\hfill\insertshorttitle\hfill\insertframenumber{}/\inserttotalframenumber}
		\par
		\vskip7pt
	}
	\hskip2em\strut
}


% normalni stranka -- titul
\defbeamertemplate*{frametitle}{edc theme}
{%
	\vbox to 12pt{
%		\vfill
		\leavevmode
		\hskip.3\paperwidth
		\lower0pt%
		\hbox {%
		\parbox[t]{.5\paperwidth}{
			\flushleft
			\usebeamerfont{frametitle}{%
		\insertframetitle}%
			\usebeamerfont{framesubtitle}{\insertframesubtitle}%
		\hspace*{-1.5cm}%
	}%
	}%
	}%
}

\setbeamersize{text margin left=.5cm,text margin right=1.5cm}

\setbeamerfont{title}{family=\rmfamily,series=\bfseries,size={\fontsize{28}{40}}}
\setbeamerfont{subtitle}{series=\bfseries,size=\Large}
\setbeamerfont{frametitle}{family=\rmfamily,size=\Large}
\setbeamerfont{date}{size=\footnotesize}
\setbeamerfont{author in head/foot}{size=\footnotesize}

%velikost fontu atd
\iffalse

%\setbeamerfont{title}{series=\bfseries,size=\Large}
\setbeamerfont{subtitle}{series=\bfseries,size=\large}
\setbeamerfont{author}{series=\bfseries,size=\Large}
\setbeamerfont{author last}{series=\bfseries,size=\footnotesize}
\setbeamerfont{author in head/foot}{series=\bfseries,size=\footnotesize}
\setbeamerfont{date}{size=\footnotesize}
\setbeamerfont{institute}{size=\footnotesize}

\setbeamerfont{author in head/foot}{size=\tiny,series=\mdseries}
%\setbeamerfont{title in head/foot}{size=\tiny,series=\bfseries}
%\setbeamerfont{date in head/foot}{size=\tiny,series=\bfseries}

%\setbeamerfont{alerted text}{series=\bfseries}
\setbeamerfont{frametitle}{family=\fontfamily{Roboto},series=\bfseries,size=\Large}
\fi

%barvicky
\setbeamercolor{title page}{fg=white}
\setbeamercolor{frametitle}{fg=edclight}

\setbeamercolor{alerted text}{fg=edclight}
\setbeamercolor{structure}{fg=edcdark}
\setbeamercolor{author in head/foot}{fg=black}

\setbeamercolor{enumerate item}{fg=black}
\setbeamercolor{enumerate subitem}{fg=black}
\setbeamercolor{enumerate subsubitem}{fg=black}

\setbeamercolor{enumerate item}{fg=black}
\setbeamercolor{itemize item}{fg=black}
%\setbeamercolor{itemize subitem}{fg=eoscgaylivelygreen}
%\setbeamercolor{itemize subsubitem}{fg=einfrapurple}
%\setbeamercolor{itemize/enumerate body}{fg=eoscbase}
%\setbeamercolor{itemize/enumerate subbody}{fg=eoscbase}
%\setbeamercolor{itemize/enumerate subsubbody}{fg=eoscbase}

%%odrazky
\setbeamertemplate{itemize item}[circle]%{\textbf{---}}
\setbeamertemplate{itemize subitem}[circle]%{\textbf{---}}
\setbeamertemplate{itemize subsubitem}[circle]%{\textbf{---}}


%prvni stranka
\setbeamertemplate{title page}{
\advance\leftskip1em
\vskip40pt
\vfill
{\usebeamerfont{title}%\MakeUppercase
{\inserttitle}}\par
\medskip
\par
{\usebeamerfont{subtitle}\textcolor{white} \insertsubtitle}\par
\medskip
\par
{\usebeamerfont{author} \insertauthor}\par
\medskip
{\usebeamerfont{institute} \insertinstitute}\par
%\par\noindent\rule{.5\textwidth}{1pt}
%\medskip
%\medskip
\par\null
\vfill
\hskip70pt \usebeamerfont{date} \lower48pt\hbox{\insertdate}
}

\newenvironment{lastframe}
{\setbeamertemplate{background canvas}%
{\includegraphics[height=\paperheight]{edc-last.pdf}}%
\setbeamertemplate{footline}{}%
\begin{frame}
  \kern-3\baselineskip
	\usebeamercolor[white]{title page}\usebeamerfont{title}%
}
{\vss\end{frame}}

